---
description: コミットメッセージを生成
argument-hint: [空欄で自動生成 or メッセージのヒント]
---

現在のステージング済みの変更内容を確認し、Conventional Commits 形式でコミットメッセージを日本語で生成してください。

## 手順

1. `git branch --show-current` で現在のブランチを確認
2. **develop, main, master ブランチの場合は停止**
3. `git diff --staged` で変更内容を確認
4. 変更内容に基づいてコミットメッセージを生成
5. ユーザーに確認後、`git commit` を実行

## ⚠️ 保護ブランチチェック

以下のブランチでは**コミット禁止**：
- `main`
- `master`
- `develop`

これらのブランチにいる場合は、コミットを実行せず以下のメッセージを表示：
```
⚠️ 保護ブランチ（{ブランチ名}）への直接コミットは禁止されています。
作業用ブランチを作成してください。

例: git switch -c feature/your-feature-name
```

## Conventional Commits 形式
```
<type>(<scope>): <日本語の説明>

<日本語の本文>
```

### type（必須・英語）
- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの意味に影響しない変更（空白、フォーマット等）
- `refactor`: バグ修正や機能追加ではないコード変更
- `perf`: パフォーマンス改善
- `test`: テストの追加・修正
- `chore`: ビルドプロセスやツールの変更

### scope（任意・英語）
- 変更の影響範囲（例: auth, api, ui, db）

### subject（必須・日本語）
- 50文字以内
- 体言止めまたは「〜を追加」「〜を修正」の形式
- 文末にピリオドをつけない

### body（任意・日本語）
- 72文字で改行
- 「何を」「なぜ」変更したかを説明
- 「どのように」は書かない（コードを見ればわかる）

## ヒントが与えられた場合

$ARGUMENTS

ヒントがあれば、それを参考にしてメッセージを生成する。

## 出力例
```
feat(auth): Google OAuth ログイン機能を追加

- Google OAuth 2.0 を使用した認証機能を実装
- ログインボタンをヘッダーに配置
```
```
fix(api): ユーザー取得時の null エラーを修正

ユーザーが存在しない場合に null チェックが
抜けていたため、500 エラーが発生していた問題を修正
```

## 注意

- **develop, main, master ブランチでは絶対にコミットしない**
- 変更がステージングされていない場合は、その旨を伝える
- 複数の種類の変更が混在している場合は、コミットを分けることを提案
